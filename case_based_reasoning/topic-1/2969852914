Manufacturers always strive to eliminate defects using different quality assurance tools and methods but some defect is often unavoidable. To compensate for defective products, surplus batches should be produced. However, surplus production is costly and it results in waste. In this paper, we propose an approach to predict defect rate and to set an appropriate amount of surplus production to replace defective products. This will result in reduced overproduction and underproduction costs. In the proposed work, the production order is represented ontologically. A formal ontology enables building clusters of similar production orders. A defect prediction model is developed for each cluster using Mixture Density Networks when a new order is received, the most similar production order, and its related cluster is retrieved. The prediction model of the retrieved cluster is then applied to the new production order. Accordingly, the optimal production amount is calculated based on defect rate, the overproduction cost and the underproduction cost. The proposed approach was validated based on a use case from the cosmetic packaging industry.